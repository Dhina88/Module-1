<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication & Onboarding</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="auth-container">
            <div class="auth-header">
                <h1><i class="fas fa-shield-alt"></i> SecureAuth</h1>
                <p>Welcome to our secure platform</p>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="auth-form active">
                <h2>Sign In</h2>
                <form id="loginFormElement">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" name="email" required>
                        <i class="fas fa-envelope form-icon"></i>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" name="password" required>
                        <i class="fas fa-lock form-icon"></i>
                        <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-options">
                        <label class="checkbox-container">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                        <a href="#" class="forgot-password">Forgot Password?</a>
                    </div>
                    <button type="submit" class="auth-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        Sign In
                    </button>
                </form>
                <div class="auth-switch">
                    <p>Don't have an account? <a href="#" onclick="showRegister()">Create Account</a></p>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form">
                <h2>Create Account</h2>
                <form id="registerFormElement">
                    <div class="form-group">
                        <label for="registerName">Full Name</label>
                        <input type="text" id="registerName" name="name" required>
                        <i class="fas fa-user form-icon"></i>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email Address</label>
                        <input type="email" id="registerEmail" name="email" required>
                        <i class="fas fa-envelope form-icon"></i>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <input type="password" id="registerPassword" name="password" required minlength="8">
                        <i class="fas fa-lock form-icon"></i>
                        <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" required>
                        <i class="fas fa-lock form-icon"></i>
                        <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    
                    <!-- Terms and Privacy Consent -->
                    <div class="consent-section">
                        <label class="checkbox-container consent-checkbox">
                            <input type="checkbox" id="termsConsent" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="terms.html" target="_blank">Terms & Conditions</a>
                        </label>
                        <label class="checkbox-container consent-checkbox">
                            <input type="checkbox" id="privacyConsent" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="privacy.html" target="_blank">Privacy Policy</a>
                        </label>
                        <label class="checkbox-container consent-checkbox">
                            <input type="checkbox" id="marketingConsent">
                            <span class="checkmark"></span>
                            I would like to receive marketing communications (optional)
                        </label>
                    </div>

                    <button type="submit" class="auth-btn">
                        <i class="fas fa-user-plus"></i>
                        Create Account
                    </button>
                </form>
                <div class="auth-switch">
                    <p>Already have an account? <a href="#" onclick="showLogin()">Sign In</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard (hidden initially) -->
    <div id="dashboard" class="dashboard hidden">
        <header class="dashboard-header">
            <h1><i class="fas fa-shield-alt"></i> SecureAuth Dashboard</h1>
            <div class="user-info">
                <span id="userName"></span>
                <button onclick="logout()" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </header>
        <main class="dashboard-content">
            <div class="welcome-card">
                <h2>Welcome back!</h2>
                <p>You have successfully logged in to your secure account.</p>
                <div class="session-info">
                    <p><strong>Session Status:</strong> <span id="sessionStatus">Active</span></p>
                    <p><strong>Last Login:</strong> <span id="lastLogin"></span></p>
                    <p><strong>Session Expires:</strong> <span id="sessionExpiry"></span></p>
                </div>
            </div>

            <!-- Profile Management Section -->
            <div class="profile-section">
                <div class="section-header">
                    <h2><i class="fas fa-user-circle"></i> Profile Management</h2>
                    <div class="profile-status">
                        <span id="profileStatus" class="status-badge incomplete">Profile Incomplete</span>
                    </div>
                </div>

                <!-- Multi-Step Profile Form -->
                <div id="profileForm" class="profile-form">
                    <!-- Progress Indicator -->
                    <div class="progress-indicator">
                        <div class="progress-step active" data-step="1">
                            <div class="step-number">1</div>
                            <div class="step-label">Biodata</div>
                        </div>
                        <div class="progress-step" data-step="2">
                            <div class="step-number">2</div>
                            <div class="step-label">University</div>
                        </div>
                        <div class="progress-step" data-step="3">
                            <div class="step-number">3</div>
                            <div class="step-label">Experience</div>
                        </div>
                    </div>

                    <form id="profileFormElement">
                        <!-- Step 1: Biodata -->
                        <div id="step1" class="form-step active">
                            <h3><i class="fas fa-user"></i> Personal Information</h3>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">First Name *</label>
                                    <input type="text" id="firstName" name="firstName" required>
                                    <i class="fas fa-user form-icon"></i>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Last Name *</label>
                                    <input type="text" id="lastName" name="lastName" required>
                                    <i class="fas fa-user form-icon"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" required>
                                <i class="fas fa-envelope form-icon"></i>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="phone">Phone Number *</label>
                                    <input type="tel" id="phone" name="phone" required>
                                    <i class="fas fa-phone form-icon"></i>
                                </div>
                                <div class="form-group">
                                    <label for="dateOfBirth">Date of Birth *</label>
                                    <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                                    <i class="fas fa-calendar form-icon"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="address">Address *</label>
                                <textarea id="address" name="address" rows="3" required placeholder="Enter your full address"></textarea>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">City *</label>
                                    <input type="text" id="city" name="city" required>
                                    <i class="fas fa-map-marker-alt form-icon"></i>
                                </div>
                                <div class="form-group">
                                    <label for="country">Country *</label>
                                    <select id="country" name="country" required>
                                        <option value="">Select Country</option>
                                        <option value="MY">Malaysia</option>
                                        <option value="US">United States</option>
                                        <option value="CA">Canada</option>
                                        <option value="UK">United Kingdom</option>
                                        <option value="AU">Australia</option>
                                        <option value="DE">Germany</option>
                                        <option value="FR">France</option>
                                        <option value="IN">India</option>
                                        <option value="JP">Japan</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <i class="fas fa-globe form-icon"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="bio">Bio/Professional Summary</label>
                                <textarea id="bio" name="bio" rows="4" placeholder="Tell us about yourself professionally"></textarea>
                            </div>

                            <div class="form-group">
                                <label for="skills">Skills (comma-separated)</label>
                                <input type="text" id="skills" name="skills" placeholder="e.g., JavaScript, Python, Project Management">
                                <i class="fas fa-tools form-icon"></i>
                            </div>

                            <!-- Resume Upload (Required) -->
                            <div class="resume-section inline">
                                <h3><i class="fas fa-file-upload"></i> Resume Upload (Required)</h3>
                                <div class="upload-area" id="uploadArea">
                                    <div class="upload-content">
                                        <i class="fas fa-cloud-upload-alt upload-icon"></i>
                                        <p>Drag & drop your resume here or <span class="upload-link">browse files</span></p>
                                        <p class="upload-info">Supported formats: PDF, DOC, DOCX (Max 5MB)</p>
                                    </div>
                                    <input type="file" id="resumeFile" accept=".pdf,.doc,.docx" style="display: none;">
                                </div>
                                
                                <div id="filePreview" class="file-preview hidden">
                                    <div class="file-info">
                                        <i class="fas fa-file-pdf file-icon"></i>
                                        <div class="file-details">
                                            <span class="file-name"></span>
                                            <span class="file-size"></span>
                                        </div>
                                        <button type="button" class="remove-file" onclick="removeFile()">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="resume-actions">
                                    <button id="uploadBtn" type="button" class="auth-btn" onclick="uploadResume()" disabled>
                                        <i class="fas fa-upload"></i>
                                        Upload Resume
                                    </button>
                                    <button id="parseBtn" type="button" class="auth-btn secondary" onclick="parseResume()" disabled>
                                        <i class="fas fa-magic"></i>
                                        Parse Resume (Optional)
                                    </button>
                                </div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="auth-btn next-btn" onclick="nextStep()">
                                    Next <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Step 2: University Information -->
                        <div id="step2" class="form-step">
                            <h3><i class="fas fa-graduation-cap"></i> Education Information</h3>
                            
                            <div class="form-group">
                                <label for="university">University *</label>
                                <select id="university" name="university" required onchange="toggleOtherUniversity()">
                                    <option value="">Select University</option>
                                    <option value="UM">University of Malaya (UM)</option>
                                    <option value="USM">Universiti Sains Malaysia (USM)</option>
                                    <option value="UPM">Universiti Putra Malaysia (UPM)</option>
                                    <option value="UTM">Universiti Teknologi Malaysia (UTM)</option>
                                    <option value="UKM">Universiti Kebangsaan Malaysia (UKM)</option>
                                    <option value="UUM">Universiti Utara Malaysia (UUM)</option>
                                    <option value="UMS">Universiti Malaysia Sabah (UMS)</option>
                                    <option value="UNIMAS">Universiti Malaysia Sarawak (UNIMAS)</option>
                                    <option value="UMP">Universiti Malaysia Pahang (UMP)</option>
                                    <option value="UMT">Universiti Malaysia Terengganu (UMT)</option>
                                    <option value="UMK">Universiti Malaysia Kelantan (UMK)</option>
                                    <option value="UIA">International Islamic University Malaysia (UIA)</option>
                                    <option value="MMU">Multimedia University (MMU)</option>
                                    <option value="UTAR">Universiti Tunku Abdul Rahman (UTAR)</option>
                                    <option value="TARUC">Tunku Abdul Rahman University College (TARUC)</option>
                                    <option value="INTI">INTI International University</option>
                                    <option value="Sunway">Sunway University</option>
                                    <option value="Taylor">Taylor's University</option>
                                    <option value="Monash">Monash University Malaysia</option>
                                    <option value="Nottingham">University of Nottingham Malaysia</option>
                                    <option value="Heriot-Watt">Heriot-Watt University Malaysia</option>
                                    <option value="Curtin">Curtin University Malaysia</option>
                                    <option value="Swinburne">Swinburne University of Technology Sarawak</option>
                                    <option value="Newcastle">Newcastle University Medicine Malaysia</option>
                                    <option value="Reading">University of Reading Malaysia</option>
                                    <option value="Southampton">University of Southampton Malaysia</option>
                                    <option value="Xiamen">Xiamen University Malaysia</option>
                                    <option value="other">Other University</option>
                                </select>
                                <i class="fas fa-university form-icon"></i>
                            </div>

                            <div id="otherUniversityGroup" class="form-group hidden">
                                <label for="otherUniversity">Please specify your university *</label>
                                <input type="text" id="otherUniversity" name="otherUniversity" placeholder="Enter your university name">
                                <i class="fas fa-university form-icon"></i>
                            </div>

                            <div class="form-group">
                                <label for="course">Course of Study *</label>
                                <input type="text" id="course" name="course" required placeholder="e.g., Computer Science, Business Administration">
                                <i class="fas fa-book form-icon"></i>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="grade">Grade/CGPA *</label>
                                    <input type="text" id="grade" name="grade" required placeholder="e.g., 3.75, First Class, A">
                                    <i class="fas fa-star form-icon"></i>
                                </div>
                                <div class="form-group">
                                    <label for="studyStart">Study Start Date *</label>
                                    <input type="date" id="studyStart" name="studyStart" required>
                                    <i class="fas fa-calendar-alt form-icon"></i>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="graduationDate">Graduation Date *</label>
                                <input type="date" id="graduationDate" name="graduationDate" required>
                                <i class="fas fa-calendar-check form-icon"></i>
                            </div>

                            <!-- Document Upload Section -->
                            <div class="document-upload-section">
                                <h4><i class="fas fa-file-upload"></i> Upload Relevant Documents</h4>
                                <div class="upload-grid">
                                    <div class="upload-item">
                                        <label for="transcript">Academic Transcript</label>
                                        <input type="file" id="transcript" name="transcript" accept=".pdf,.jpg,.jpeg,.png">
                                        <i class="fas fa-file-pdf upload-icon"></i>
                                    </div>
                                    <div class="upload-item">
                                        <label for="certificate">Certificate/Diploma</label>
                                        <input type="file" id="certificate" name="certificate" accept=".pdf,.jpg,.jpeg,.png">
                                        <i class="fas fa-certificate upload-icon"></i>
                                    </div>
                                    <div class="upload-item">
                                        <label for="completionProof">Completion Proof</label>
                                        <input type="file" id="completionProof" name="completionProof" accept=".pdf,.jpg,.jpeg,.png">
                                        <i class="fas fa-check-circle upload-icon"></i>
                                    </div>
                                </div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="auth-btn secondary prev-btn" onclick="prevStep()">
                                    <i class="fas fa-arrow-left"></i> Previous
                                </button>
                                <button type="button" class="auth-btn next-btn" onclick="nextStep()">
                                    Next <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Step 3: Experience Information -->
                        <div id="step3" class="form-step">
                            <h3><i class="fas fa-briefcase"></i> Relevant / Past Experiences</h3>
                            
                            <div id="experienceContainer">
                                <div class="experience-item">
                                    <h4>Experience 1</h4>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="exp1Company">Company/Organization *</label>
                                            <input type="text" id="exp1Company" name="exp1Company" placeholder="Company name">
                                            <i class="fas fa-building form-icon"></i>
                                        </div>
                                        <div class="form-group">
                                            <label for="exp1Position">Position/Title *</label>
                                            <input type="text" id="exp1Position" name="exp1Position" placeholder="Your position">
                                            <i class="fas fa-user-tie form-icon"></i>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="exp1StartDate">Start Date *</label>
                                            <input type="date" id="exp1StartDate" name="exp1StartDate">
                                            <i class="fas fa-calendar-alt form-icon"></i>
                                        </div>
                                        <div class="form-group">
                                            <label for="exp1EndDate">End Date</label>
                                            <input type="date" id="exp1EndDate" name="exp1EndDate">
                                            <i class="fas fa-calendar-check form-icon"></i>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="exp1Description">Job Description</label>
                                        <textarea id="exp1Description" name="exp1Description" rows="3" placeholder="Describe your responsibilities and achievements"></textarea>
                                    </div>
                                </div>
                            </div>

                            <button type="button" class="add-experience-btn" onclick="addExperience()">
                                <i class="fas fa-plus"></i> Add Another Experience
                            </button>

                            <div class="form-navigation">
                                <button type="button" class="auth-btn secondary prev-btn" onclick="prevStep()">
                                    <i class="fas fa-arrow-left"></i> Previous
                                </button>
                                <button type="submit" class="auth-btn">
                                    <i class="fas fa-save"></i> Complete Profile
                                </button>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Unified Tabs Navigation (hidden until profile complete) -->
                <div id="tabsContainer" class="hidden">
                <div class="tabs-nav">
                    <button class="tab-btn active" data-tab="jobs" onclick="switchTab('jobs')"><i class="fas fa-briefcase"></i> Jobs</button>
                    <button class="tab-btn" data-tab="profile" onclick="switchTab('profile')"><i class="fas fa-user"></i> Profile</button>
                    <button class="tab-btn" data-tab="history" onclick="switchTab('history')"><i class="fas fa-history"></i> History</button>
                </div>

                <!-- Jobs Tab Content -->
                <section id="tab-jobs" class="tab-content active">
                    <h3>Available Jobs</h3>
                    <div id="jobsList" class="jobs-grid"></div>
                </section>

                <!-- Profile Tab Content (existing profile display kept below) -->
                <section id="tab-profile" class="tab-content">
                </section>

                <!-- History Tab Content -->
                <section id="tab-history" class="tab-content">
                    <h3>Your Applications & Interviews</h3>
                    <div id="historyTimeline" class="history-timeline"></div>
                </section>
                </div>

                <!-- Profile Display Section -->
                <div id="profileDisplay" class="profile-display hidden">
                    <h3><i class="fas fa-user-check"></i> Your Profile</h3>
                    <div class="profile-info">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="profile-details">
                                <h4 id="displayName"></h4>
                                <p id="displayEmail"></p>
                                <p id="displayPhone"></p>
                            </div>
                            <button class="edit-profile-btn" onclick="editProfile()">
                                <i class="fas fa-edit"></i>
                                Edit Profile
                            </button>
                        </div>
                        
                        <div class="profile-content">
                            <div class="info-section">
                                <h5>Personal Information</h5>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <label>Date of Birth:</label>
                                        <span id="displayDOB"></span>
                                    </div>
                                    <div class="info-item">
                                        <label>Address:</label>
                                        <span id="displayAddress"></span>
                                    </div>
                                    <div class="info-item">
                                        <label>City:</label>
                                        <span id="displayCity"></span>
                                    </div>
                                    <div class="info-item">
                                        <label>Country:</label>
                                        <span id="displayCountry"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="info-section" id="bioSection">
                                <h5>Professional Summary</h5>
                                <p id="displayBio"></p>
                            </div>

                            <div class="info-section" id="skillsSection">
                                <h5>Skills</h5>
                                <div class="skills-tags" id="displaySkills"></div>
                            </div>

                            <div class="info-section" id="educationSection">
                                <h5><i class="fas fa-graduation-cap"></i> Education</h5>
                                <div class="education-info">
                                    <div class="education-item">
                                        <div class="education-header">
                                            <h6 id="displayUniversity"></h6>
                                            <span class="education-dates" id="displayEducationDates"></span>
                                        </div>
                                        <p class="education-course" id="displayCourse"></p>
                                        <p class="education-grade" id="displayGrade"></p>
                                    </div>
                                </div>
                            </div>

                            <div class="info-section" id="resumeSection">
                                <h5>Resume</h5>
                                <div class="resume-info">
                                    <i class="fas fa-file-pdf"></i>
                                    <span id="resumeFileName"></span>
                                    <button class="download-btn" onclick="downloadResume()">
                                        <i class="fas fa-download"></i>
                                        Download
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="auth.js"></script>
</body>
</html>
